<div id="back_link">
  <div class="icon bullet_arrow_left"></div><a routerLink="/public/groups"
    translate="VIEWS.PUBLIC_GROUP.LNK_BACK_TO_PUBLIC_GROUPS"></a>
</div>
<div id="group_root" *ngIf="group$ | async as group;">
  <div class="group_wrap">
    <div class="group_header">
      <div id="create_group" class="blue_button_wrap">
      </div>
    </div>
    <div class="group_shown_content">
      <div class="group_header">
        <div class="group_icon">
          <div class="group_circle">
            <div class="group_icon" *ngIf="group.imageUrl"><img [src]="group.imageUrl" /></div>
            <!--cos-initials  *ngIf="!group.imageUrl && group.name" class="table_cell" ng-model="group.name" initial-limit="1"></!--cos-initials-->
          </div>
        </div>
        <div class="group_name">
          <span [innerText]="group.name"></span>
        </div>
        <div class="group_details">
          <span [innerText]="group.description"></span>
        </div>
        <div class="group_actions">
          <div class="group_members" (click)="shareGroupDialog();$event.stopPropagation();" *ngIf="group.userLevel">
            <span translate="VIEWS.PUBLIC_GROUP.BTN_INVITE_SHARE"></span>
          </div>
          <div [cosDropdown] class="bar_select bar_select_blue" *ngIf="GroupService.canUpdate(group)">
            <div class="select_text">
              {{'VIEWS.PUBLIC_GROUP.DROPDOWN_GROUP_ACTIONS_ADD_TOPICS' | translate}}
              <div class="icon_holder">
                <div class="table_cell">
                  <div class="icon_arrow_down_white"></div>
                </div>
              </div>
            </div>

            <div class="dropdown big_drop">
              <div class="line lightest_line"></div>

              <div class="dropdown_item" ng-click="createTopicDialog();$event.stopPropagation();">
                <div class="icon icon_plus_black"></div>
                <div class="item_name" translate="VIEWS.PUBLIC_GROUP.ACTION_OPTION_CREATE_TOPIC"></div>
                <div class="clearer"></div>
              </div>
              <div class="dropdown_item" ng-click="addTopicDialog(); $event.stopPropagation();">
                <div class="icon icon_topic_black"></div>
                <div class="item_name" translate="VIEWS.PUBLIC_GROUP.ACTION_OPTION_ADD_TOPICS"></div>
                <div class="clearer"></div>
              </div>
            </div>
          </div>
          <div [cosDropdown] class="bar_select" *ngIf="GroupService.canUpdate(group)">
            <div class="select_text">
              {{'VIEWS.PUBLIC_GROUP.DROPDOWN_GROUP_ACTIONS_MORE' | translate}}
              <div class="icon_holder">
                <div class="table_cell">
                  <div class="icon_arrow_down_black"></div>
                </div>
              </div>
            </div>

            <div class="dropdown big_drop">
              <div class="line lightest_line"></div>

              <div class="dropdown_item" ng-click="showSettings()" *ngIf="GroupService.canUpdate(group)">
                <div class="icon icon_settings"></div>
                <div class="item_name" translate="VIEWS.PUBLIC_GROUP.ACTION_OPTION_SETTINGS"></div>
                <div class="clearer"></div>
              </div>
              <div class="dropdown_item" (click)="leaveGroup()">
                <div class="icon icon_x_black"></div>
                <div class="item_name" translate="VIEWS.PUBLIC_GROUP.ACTION_OPTION_LEAVE"></div>
                <div class="clearer"></div>
              </div>
              <div class="dropdown_item" ng-click="deleteGroup()" *ngIf="GroupService.canUpdate(group)">
                <div class="icon icon_delete"></div>
                <div class="item_name red_text" translate="VIEWS.PUBLIC_GROUP.ACTION_OPTION_DELETE"></div>
                <div class="clearer"></div>
              </div>
            </div>
          </div>
          <button *ngIf="!group.userLevel" class="blue_button" ng-click="joinGroup()"
            translate="VIEWS.PUBLIC_GROUP.BTN_JOIN_GROUP"></button>
          <button *ngIf="group.userLevel && !GroupService.canUpdate(group)" class="light_gray_button_big"
            (click)="leaveGroup()">
            <div class="icon icon_x_black"></div><span translate="VIEWS.PUBLIC_GROUP.BTN_LEAVE_GROUP"></span>
          </button>
        </div>
      </div>
    </div>
    <div class="header_row_wrap">
      <div class="header_row" slide-controller identifier="topicSettingsSlider">
        <div class="tab_button" ng-click="app.selectTab('topics')"
          ng-class="app.tabSelected === 'topics' ? 'active' : ''">
          <div class="tab_buttom_wrap">
            <!--div class="tab_button_text"><span  translate="VIEWS.PUBLIC_GROUP.TAB_TOPICS">Topics</span> <span>({{PublicGroupMemberTopicService.countTotal}})</span></!--div-->
            <div class="blue_bottom_line"></div>
          </div>
        </div>

        <div class="tab_button" ng-click="app.selectTab('members')"
          ng-class="app.tabSelected === 'members' ? 'active' : ''">
          <div class="tab_buttom_wrap">
            <!--div class="tab_button_text"><span translate="VIEWS.PUBLIC_GROUP.TAB_MEMBERS">Members</span> <span>({{GroupMemberUserService.countTotal}})</span></!--div-->
            <div class="blue_bottom_line"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="content" *ngIf="tabSelected === 'topics'">
      <div class="container_content">
        <!--!PublicGroupMemberTopicService.countTotal-->
        <div *ngIf="!group.members.count" class="table">
          <div class="no_results v_align_cell">
            <div class="no_results_icon_wrap">
              <div class="no_results_img sprite sprite-icon-no-results2x"></div>
            </div>
            <div class="title_area">
              <h3 translate="VIEWS.PUBLIC_GROUP.HEADING_NO_RESUTS"></h3>
              <p translate="VIEWS.PUBLIC_GROUP.HEADING_DESCRIPTION"></p>
            </div>

            <div class="button_area">

              <div class="big_button" *ngIf="group.userLevel" ng-click="addTopicDialog()">
                <div class="button_cell">
                  <div class="topic_text" translate="VIEWS.PUBLIC_GROUP.BTN_ADD_TOPICS"></div>
                </div>
              </div>

            </div>
          </div>
        </div>
        <div [cosDropdown] class="bar_select" *ngIf="wWidth <= 560">
          <div class="select_text">
            {{'VIEWS.PUBLIC_GROUP.ORDER_TITLE' | translate}}
            <div class="icon_holder">
              <div class="table_cell">
                <div class="icon_arrow_down_black"></div>
              </div>
            </div>
          </div>

          <div class="dropdown big_drop">
            <div class="line lightest_line"></div>

            <div class="dropdown_item" ng-click="PublicGroupMemberTopicService.doOrder('title', 'ASC')">
              <div class="icon arrow_th_sort_down"></div>
              <div class="item_name" translate="VIEWS.PUBLIC_GROUP.ORDER_TITLE_ASC">
                ORDER
              </div>
              <div class="clearer"></div>
            </div>
            <div class="dropdown_item" ng-click="PublicGroupMemberTopicService.doOrder('title', 'DESC')">
              <div class="icon arrow_th_sort_up"></div>
              <div class="item_name" translate="VIEWS.PUBLIC_GROUP.ORDER_TITLE_DESC">
                Leave
              </div>
              <div class="clearer"></div>
            </div>
          </div>
        </div>
        <!--PublicGroupMemberTopicService.countTotal-->
        <div class="default_table" *ngIf="group.members.count">
          <div class="pretend_tr" *ngIf="wWidth > 560">
            <div class="pretend_th link" ng-click="PublicGroupMemberTopicService.doOrder('title')">
              <div class="th_text">
                <span translate="VIEWS.PUBLIC_GROUP.LNK_TITLE"></span>
                <div
                  ng-class="{'icon arrow_th_sort_up': PublicGroupMemberTopicService.order === 'ASC', 'icon arrow_th_sort_down': PublicGroupMemberTopicService.order === 'DESC' }">
                </div>
              </div>
            </div>
            <div class="pretend_th">
              <span translate="VIEWS.PUBLIC_GROUP.LNK_LAST_ACTIVITY"></span>
            </div>
            <div class="pretend_th">
              <span translate="VIEWS.PUBLIC_GROUP.LNK_STATUS"></span>
            </div>
          </div>
          <!--group-member-topic *ngIf="PublicGroupMemberTopicService.countTotal" class="group_item_row pretend_tr" ng-repeat="topic in PublicGroupMemberTopicService.topics" fields="['lastActivity', 'status']" member-topic="topic" group="group"></!--group-member-topic-->

          <!--div class="pretend_tr" *ngIf="PublicGroupMemberTopicService.totalPages > 1">
                      <div class="pagination_wrapper">
                          <!--cos-pagination-- class="pagination" select="PublicGroupMemberTopicService.loadPage(page)" total-pages="PublicGroupMemberTopicService.totalPages" page="PublicGroupMemberTopicService.page"></!--cos-pagination>
                      </div>
                  </!--div-->

        </div>
      </div>
    </div>
    <div class="content" *ngIf="tabSelected === 'members'">
      <div class="container_content">
        <div [cosDropdown] class="bar_select" *ngIf="wWidth <= 560">
          <div class="select_text">
            {{'VIEWS.PUBLIC_GROUP.ORDER_NAME' | translate}}
            <div class="icon_holder">
              <div class="table_cell">
                <div class="icon_arrow_down_black"></div>
              </div>
            </div>
          </div>

          <div class="dropdown big_drop">
            <div class="line lightest_line"></div>

            <div class="dropdown_item" ng-click="GroupMemberUserService.doOrder('name', 'ASC')">
              <div class="icon arrow_th_sort_down"></div>
              <div class="item_name" translate="VIEWS.PUBLIC_GROUP.ORDER_NAME_ASC"></div>
              <div class="clearer"></div>
            </div>
            <div class="dropdown_item" ng-click="GroupMemberUserService.doOrder('name', 'DESC')">
              <div class="icon arrow_th_sort_up"></div>
              <div class="item_name" translate="VIEWS.PUBLIC_GROUP.ORDER_NAME_DESC"></div>
              <div class="clearer"></div>
            </div>
          </div>
        </div>

        <div class="default_table">
          <div class="pretend_tr" *ngIf="wWidth > 560">
            <div class="pretend_th" ng-click="GroupMemberUserService.doOrder('name')">
              <div class="th_text">
                <span translate="VIEWS.PUBLIC_GROUP.LNK_PROFILE"></span>
                <!--div
                  ng-class="{'icon arrow_th_sort_up': GroupMemberUserService.order === 'ASC', 'icon arrow_th_sort_down': GroupMemberUserService.order === 'DESC' }"
                  *ngIf="GroupMemberUserService.orderBy === 'name'"></!--div-->
              </div>
            </div>
            <div class="pretend_th member_level" ng-click="GroupMemberUserService.doOrder('level')">
              <span translate="VIEWS.PUBLIC_GROUP.LNK_ROLE"></span>
              <!--div
                ng-class="{'icon arrow_th_sort_up': GroupMemberUserService.order === 'ASC', 'icon arrow_th_sort_down': GroupMemberUserService.order === 'DESC' }"
                *ngIf="GroupMemberUserService.orderBy === 'level'"></!--div-->
            </div>
            <div class="pretend_th" *ngIf="GroupService.canUpdate(group)">
              <span translate="VIEWS.PUBLIC_GROUP.LBL_REMOVE_FROM_GROUP"></span>
            </div>
          </div>
          <!-- GroupMemberUsers -->
          <!--my-member-user class="group_item_row pretend_tr" ng-repeat="user in GroupMemberUserService.users  track by user.id" member="user" group="group" fields="['level', 'remove']"></!--my-member-user-->

          <!--div class="pretend_tr" *ngIf="GroupMemberUserService.totalPages > 1">
                      <div class="pagination_wrapper">
                          <!--cos-pagination-- class="pagination" select="GroupMemberUserService.loadPage(page)" total-pages="GroupMemberUserService.totalPages" page="GroupMemberUserService.page"></!--cos-pagination>
                      </div>
                  </!--div-->
        </div>
      </div>
    </div>
  </div>
</div>